               server {

                listen 80;
                listen [::]:80;

                root /www/yourdomain.com/html; #would need to include these files or map to host files

                index index.html  index.htm;

                server_name yourdomain.com www.yourdomain.com;

                proxy_set_header    Host               $host; # to forward the original host requested by the client
                proxy_set_header    X-Real-IP          $remote_addr;
                proxy_set_header    X-Forwarded-For    $proxy_add_x_forwarded_for;
                proxy_set_header    X-Forwarded-Host   $host;
                proxy_set_header    X-Forwarded-Server $host;
                proxy_set_header    X-Forwarded-Port   $server_port;
                proxy_set_header    X-Forwarded-Proto  $scheme;
                proxy_max_temp_file_size 0;

                #this provides the authentication tests for https certification

                location /.well-known/acme-challenge/ {
                   root /var/www/certbot;
                }

                #return 301 https://yourdomain.com$request_uri; This would be a redirect from http -> https

                #https
                listen [::]:443 ssl ipv6only=on; # managed by Certbot
                listen 443 ssl; # managed by Certbot

                ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
                ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;
                include /etc/letsencrypt/options-ssl-nginx.conf;
                ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;

                #keycloak server, mapping yourdomain.com/auth endpoints to docker network default ip : keycloak port /auth
                location /auth/ {
                   proxy_pass             http://172.17.0.1:8081/auth/;
                   proxy_http_version     1.1;
                }

          }
